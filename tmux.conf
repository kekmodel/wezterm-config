# 프리픽스 키 변경
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# 마우스 지원
set -g mouse on

# 히스토리
set -g history-limit 100000

# 창 번호 1부터 시작
set -g base-index 1
setw -g pane-base-index 1

# Alt+화살표로 pane 이동
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Shift+화살표로 창 이동
bind -n S-Left previous-window
bind -n S-Right next-window

# 설정 리로드
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# 256 컬러
set -g default-terminal "tmux-256color"

# ESC 딜레이 제거
set -sg escape-time 0

# vi 모드 복사 + 클립보드 연동
setw -g mode-keys vi
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-pipe-and-cancel "pbcopy"

# Cmd+방향키: pane 이동 (WezTerm에서 \e[1;9X 시퀀스 수신)
set -s user-keys[0] "\033[1;9D"
set -s user-keys[1] "\033[1;9C"
set -s user-keys[2] "\033[1;9A"
set -s user-keys[3] "\033[1;9B"
bind -n User0 select-pane -L
bind -n User1 select-pane -R
bind -n User2 select-pane -U
bind -n User3 select-pane -D

# 분할: \ 와 - (현재 디렉토리 유지)
bind \\ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
